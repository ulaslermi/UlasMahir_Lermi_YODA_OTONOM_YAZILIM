import cv2
from matplotlib import pyplot as plt




resim = cv2.imread("kiz_kulesi.jpg",0)

cv2.namedWindow("resim",cv2.WINDOW_NORMAL)

cv2.imshow("resim",resim)

cv2.imshow("resim penceresi",resim)

plt.imshow(resim,cmap="gray")
plt.show()


k = cv2.waitKey(0)



if k == 27:
    print("ESC tuşuna basıldı")
elif k == ord("q"):
    print("q tuşuna basıldı , resim kayıt edildi")
    cv2.imwrite("kiz_kulesigri.jpg",resim)
    
    


#cv2.destroyWindow("resim penceresi")
cv2.destroyAllWindows()
----------------------------------------------------------------------------------------------------------------------------import cv2


cam = cv2.VideoCapture(0)

fourrc = cv2.VideoWriter_fourcc(*'XVID')

out = cv2.VideoWriter("bengri.avi",fourrc,30.0,(640,480)) #ismi kodedeği fpsi boyutlandırma

while cam.isOpened():
    
    ret, frame = cam.read() #görüntü okuma
    
    if not ret:
        print("Kameradan görüntü alınamadı")
        break
    
    out.write(frame) #şablon bu
    
    cv2.imshow("kamera",frame)
    
    if cv2.waitKey(1) == ord("q"):
        print("videodan çıkıldı.")
        break
    
cam.release()
out.release()
cv2.destroyAllWindows()  
----------------------------------------------------------------------------------------------------------------------------import cv2
import numpy as np #boş bir siyah görüntü 

img = np.zeros((512,512,3),np.uint8) #unit8 yapmasaydık float olurdu çoğu fonksiyon hata verebilirdi

cv2.line(img,(0,0),(511,511),(255,0,0),5) # 0 0dan 511 511 e kadar bir çizgi rengi mavi 5piksel boyut
cv2.line(img,(50,400),(400,50),(0,255,0),10) #yeşil mvi yşl krmz

cv2.rectangle(img,(50,50),(300,300),(0,0,255),5)
cv2.rectangle(img,(300,300),(511,510),(0,0,255),-1)

cv2.circle(img,(255,255),60,(120,120,120),2) #merkezi yarıçapı renk kalınlık
cv2.circle(img,(100,100),90,(255,50,50),-1)


cv2.ellipse(img,(256,256),(100,50),0,0,180,(255,100,0),3) #merkez uzunluk açı
cv2.ellipse(img,(100,100),(100,50),0,0,180,(255,100,0),-1)


pts = np.array([[20,30],[100,120],[255,255],[10,400]],np.int32)  #koşelerin kordinatları
pts2 = pts.reshape(-1,1,2)

cv2.polylines(img,[pts],True,(255,255,255),3) #true diyince çizgielri birleştirip bir çokgen oluşturuyo

font = cv2.FONT_HERSHEY_COMPLEX
cv2.putText(img,'OpenCV',(10,255),font,4,(0,155,255),2,cv2.LINE_AA)



cv2.imshow("resim",img)
cv2.waitKey(0)
cv2.destroyAllWindows()
----------------------------------------------------------------------------------------------------------------------------import cv2


#for i in dir(cv2):
#    if 'EVENT' in i:
#        print(i)

import numpy as np #bir beyaz pencere oluşturucaz

cizim = False
mod = False
xi,yi = -1,-1
def draw(event ,x ,y ,flags ,param):
    global cizim,xi,yi,mod
    
    if event == cv2.EVENT_LBUTTONDOWN:
        xi,yi = x,y
        cizim = True
    
    elif event == cv2.EVENT_MOUSEMOVE:
        if cizim == True:
            if mod:
                cv2.circle(img,(x,y),3,(100,50,0),-1)
            else:
                cv2.rectangle(img,(xi,yi),(x,y),(0,0,255),-1)
            pass
    
    elif event == cv2.EVENT_LBUTTONUP:
        cizim = False
        if mod:
            cv2.circle(img,(x,y),3,(100,50,0),-1)
        else:
            cv2.rectangle(img,(xi,yi),(x,y),(0,0,255),-1)
    
    
    
    
    
    
    
    # if event == cv2.EVENT_LBUTTONDBLCLK:
    #     cv2.circle(img,(x,y),50,(255,0,0),-1)
    # pass


img =  np.ones((512,512,3),np.uint8)

cv2.namedWindow("paint")

cv2.setMouseCallback("paint",draw)

while(1):
    cv2.imshow("paint",img)
    if cv2.waitKey(1) & 0xFF == ord("q"):
        break
    if cv2.waitKey(1) & 0xFF == ord("m"):
        mod = not mod
    
    
cv2.destroyAllWindows()    
----------------------------------------------------------------------------------------------------------------------------
import cv2
import numpy as np


def nothing(x):
    pass

img =np.zeros((512,512,3),np.uint8)


cv2.namedWindow("resim")

cv2.createTrackbar("R","resim",0,255,nothing) #fonksiyon yazma yerini doldurmamız gerekiyor çalışmaz yoksa
cv2.createTrackbar("G","resim",0,255,nothing)
cv2.createTrackbar("B","resim",0,255,nothing)

cv2.createTrackbar("ON/OFF","resim",0,1,nothing)



while(1):
    cv2.imshow("resim",img)
    
    if cv2.waitKey(1) & 0xFF ==27:
        break

    r = cv2.getTrackbarPos("R","resim")
    g = cv2.getTrackbarPos("G","resim")
    b = cv2.getTrackbarPos("B","resim")

    switch = cv2.getTrackbarPos("ON/OFF","resim")
    
    if switch:
        img[:] = [b,g,r]
    else:
        img[:] = 0
        
        



cv2.destroyAllWindows()
----------------------------------------------------------------------------------------------------------------------------
import cv2
# import matplotlib.pyplot as plt
import numpy as np
from matplotlib import pyplot as plt

BLUE = [255,0,0]

img1 = cv2.imread('r.jpg')

replicate = cv2.copyMakeBorder(img1, 10, 10, 10, 10, cv2.BORDER_REPLICATE)
reflect = cv2.copyMakeBorder(img1, 10, 10, 10, 10, cv2.BORDER_REFLECT)
reflect101 = cv2.copyMakeBorder(img1, 10, 10, 10, 10, cv2.BORDER_REFLECT_101)
wrap = cv2.copyMakeBorder(img1, 10, 10, 10, 10, cv2.BORDER_WRAP)
constant = cv2.copyMakeBorder(img1, 10, 10, 10, 10, cv2.BORDER_CONSTANT,value=BLUE)


plt.subplot(231),plt.imshow(img1,'gray'),plt.title('ORİGİNAL')
plt.subplot(232),plt.imshow(replicate,'gray'),plt.title('REPLİCATE')
plt.subplot(233),plt.imshow(reflect,'gray'),plt.title('REFLECT')
plt.subplot(234),plt.imshow(reflect101,'gray'),plt.title('REFLECT_101')
plt.subplot(235),plt.imshow(wrap,'gray'),plt.title('WRAP')
plt.subplot(236),plt.imshow(constant,'gray'),plt.title('CONSTANT')

plt.show()

# resim kırpma kırptığımızı başka resim olarak ekleme üstüne ekleme
# resim = cv2.imread("r.jpg",)


# kirp = resim[500:800,500:800]



# resim[100:400,1400:1700] = kirp

# plt.subplot(121)
# plt.imshow(resim,"gray")
# plt.subplot(122)
# plt.imshow(kirp,"gray")
# plt.show()
----------------------------------------------------------------------------------------------------------------------------
import cv2
import numpy as np

img1 = cv2.imread("r.jpg")
img2 = cv2.imread("p.jpg")


x,y,z = img1.shape
roi = img2[0:x,0:y]

 
img1_gray = cv2.cvtColor(img1,cv2.COLOR_BGR2GRAY)
ret, mask = cv2.threshold(img1_gray,10,255,cv2.THRESH_BINARY) # 10 un altında olan renkleri 0 a üstünde olan renkleri 255 e eşitliyoruz ve sadece0 ve 255 olan renk kalıyor

mask_inv = cv2.bitwise_not(mask) #1 ler 0 0 lar 1 oluyor


img1_bg = cv2.bitwise_and(roi,roi,mask=mask_inv)

img2_fg = cv2.bitwise_and(img1,img1,mask=mask)


toplam = cv2.add(img1_bg,img2_fg)


img2[0:x,0:y] = toplam



# img1 = cv2.imread("p.jpg")
# img2 = cv2.imread("r.jpg")


# toplam = cv2.addWeighted(img1,0.7,img2,0.3,0)

cv2.imshow("resim",toplam)
cv2.waitKey(0)
cv2.destroyAllWindows()
# x = np.uint8([250])
# y = np.uint8([10])


# sonuc1 = x+y # toplayıp 8 bit 256 ile mod işlemi yapyıor

# sonuc2 = cv2.add(x,y)
----------------------------------------------------------------------------------------------------------------------------
import cv2
import numpy as np
# for i in dir(cv2):
#     if "COLOR_" in i:
#         print(i)

camera = cv2.VideoCapture(0)

cv2.namedWindow("frame")

def nothing(x):
    pass

cv2.createTrackbar("H1", "frame", 0, 359 , nothing)
cv2.createTrackbar("H2", "frame", 0, 359 , nothing)
cv2.createTrackbar("S1", "frame", 0, 255 , nothing)
cv2.createTrackbar("S2", "frame", 0, 255 , nothing)
cv2.createTrackbar("V1", "frame", 0, 255 , nothing)
qcv2.createTrackbar("V2", "frame", 0, 255 , nothing)



while camera.isOpened():
    
    _, frame = camera.read()
    
    hsv = cv2.cvtColor(frame, cv2.COLOR_BGR2HSV)
    
    H1 = int(cv2.getTrackbarPos("H1","frame") /2)
    H2 = int(cv2.getTrackbarPos("H2","frame") /2)
    S1 = cv2.getTrackbarPos("S1","frame")
    S2 = cv2.getTrackbarPos("S2","frame")
    V1 = cv2.getTrackbarPos("V1","frame")
    V2 = cv2.getTrackbarPos("V2","frame")
    
    
    
    
    lower = np.array([H1,S1,V1])
    upper = np.array([H2,S2,V2])
    
    mask = cv2.inRange(hsv,lower,upper)
    
    res = cv2.bitwise_and(frame,frame,mask=mask)
    
    cv2.imshow("frame",frame)
    cv2.imshow("hsv",mask)
    cv2.imshow("res",res)
    
    if cv2.waitKey(5) &  0xFF == ord("q"):
        break

cv2.destroyAllWindows()    
----------------------------------------------------------------------------------------------------------------------------
import cv2
import numpy as np

img = cv2.imread("deneme_2.jpg")

print(img.shape)

rows,cols = img.shape[:2]
# boyutlandırma yer değiştirme------------------------------------------------
# translation_matrix = np.float32([
#     [1,0,25],
#     [0,1,25]])


# img_translation = cv2.warpAffine(img, translation_matrix, (cols+50,rows+50))
# cv2.imshow("img_translation",img_translation)
# ---------------------------------------------------------------------------
# res = cv2.resize(img,(300,300))

# res = cv2.resize(img,None,fx=0.5,fy=0.5,interpolation=cv2.INTER_CUBIC)
# -----------------------------------------------------------------------------
# rotation_matrix = cv2.getRotationMatrix2D((cols/2,rows/2),30,0.7)

# img_rotation =cv2.warpAffine(img, rotation_matrix, (cols,rows))

# cv2.imshow("img_rotation",img_rotation)
# --------------------------------------------------------------------------------


# src_points = np.float32([
#     [0,0],
#     [cols-1,0],
#     [0,rows-1]])

# dst_points = np.float32([
#     [0,0],
#     [int(0.6*(cols-1)),0],
#     [int(0.4*(cols-1)),rows-1]])

# affine_matrix = cv2.getAffineTransform(src_points, dst_points)

# img_output = cv2.warpAffine(img, affine_matrix, (cols,rows))

# cv2.imshow("img_output",img_output)
# -----------------------------------------------------------------------------
# ----------------------------------------kırpma
# src_points = np.float32([
#     [0,0],
#     [cols-1,0],
#     [0,rows-1],
#     [cols-1,rows-1]])

# dst_points = np.float32([
#     [0,0],
#     [cols-1,0],
#     [int(0.33*(cols-1)),rows-1],
#     [int(0.66*(cols-1)),rows-1]])



# projective_matrix = cv2.getPerspectiveTransform(src_points, dst_points)

# img_output = cv2.warpPerspective(img, projective_matrix, (cols,rows))

# cv2.imshow("img_output",img_output)
# ----------------------------------------------------------------------------
# -----------------------------------------UYGULAMA-------------------------------------

click_count = 0
a = []

dst_points = np.float32([
     [0,0],
     [cols-1,0],
     [0,rows-1],
     [cols-1,rows-1]])

cv2.namedWindow("img",cv2.WINDOW_NORMAL)

def draw(event,x,y,flags,param):
    global click_count,a
    
    if click_count <4:
        
        if event == cv2.EVENT_LBUTTONDBLCLK:
                print(click_count)
                print(x,y)
                click_count +=1
                a.append((x,y))
    else:
        
        src = np.float32([
            [a[0][0],a[0][1]],
            [a[1][0],a[1][1]],
            [a[2][0],a[2][1]],
            [a[3][0],a[3][1]]])
        
        click_count = 0
        a = []
        
        M = cv2.getPerspectiveTransform(src, dst_points)
        img_output = cv2.warpPerspective(img, M, (cols,rows))
        cv2.imshow("img_output",img_output)
    
    pass


cv2.setMouseCallback("img", draw)


while(1):
    cv2.imshow("img",img)
    # cv2.imshow("img_output",img_output)
    if cv2.waitKey(1) == ord("q"):
        break
    
cv2.destroyAllWindows()
----------------------------------------------------------------------------------------------------
